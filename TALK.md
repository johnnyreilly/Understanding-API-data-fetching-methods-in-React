---
theme: "night"
transition: "slide"
highlightTheme: "monokai"
logoImg: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAACplBMVEV1Srt2Srt2Srx2Srx2S7x3S7x3TLx4Tb15Tb15Tr15T716T757UL57Ub58Ur58Ur99U799VL9+VL9+VcB/VsCAV8CAV8GAWMGBWMGBWcGCWcGCWsGCWsKDW8KDXMKEXMKEXMOEXcOFXsOGX8OGX8SHYMSIYsSIYsWJY8WJZMWKZMWKZcaLZ8aMZ8aNaMeNaceOaceOaseOasiPa8iQbciQbcmRbcmRbsmSb8mTcMqTccqUcsuVc8uWdcyXdcyXdsyYd8yYeM2ZeM2aes2aes6be86bfM6dfc+ef8+fgNCggtCggtGihNGihdGihdKkh9KkiNKliNOni9SojNSojdSpjdSpjdWpjtWqj9WrkNaskdasktatktetk9eulNevltiwltixmNixmdmymdmymtmzm9q0nNq1ndq1ntu2ntu2n9u3oNu3ody4oty5o9y6pN27pd27pd67pt68pt68p969p969qN6+qd++qt+/qt+/q9+/q+DArODAreDBreDBruHCruHDsOHFs+LGtOPHtePIt+TJt+TJuOTJuOXKueXKuuXLuuXLu+bMu+bMvObNvebNvubNvufOvufOv+fPwOfQwejQwujRwujSw+nSxOnUxurUx+rVyOrWyOrXyuvYy+zYzOzZzOzZzezazu3az+3bz+3b0O3c0e7d0u7e0+7e1O/f1e/g1vDh2PDi2fHj2vHk3PLl3fLm3vPn3/Pn4PPo4PPo4fTp4vTp4/Tq4/Tq5PXr5fXs5vXs5vbs5/bt5/bt6Pbu6Pbu6fbu6ffv6vfv6/fw6/fw7Pjx7Pjx7fjy7vnz7/n08Pn08fn18fr18vr28/r29Pr39Pv39fv49fv49vv59/z6+Pz6+fz7+v37+/38+/38/P39/P79/f7+/f7+/v7///+mtXIlAAAAA3RSTlPp9fX4WTyaAAAEsUlEQVR42u3a50MURxQAcHRh8VTEghIMwS6o0WiUAAbBHhsaFUs4BaIxtiSoMUXFEwvYMfbeMPaCJUowUewlarAdeCIy7z+ROe7Y2bsDl52yftj36XYGdn43tzv7Zmb9JGOjnp8JMAEmwASYABNgAuj+v9uJ9SFGAiaVANyJNwwQkIWgMhwTDALIm6Aq0HeGAPxzwR0o3QhAJihRMUY8wIoIALzqKxoQ7wBV3AsXCwi7Bx5xXBYJ8D8IXjFPJOB77/bhbX9xgM8dPgBwq6kogJwPPmOVKMB03+1DRbwYQMSLGgBwQRYCyIUaI1UEIPptzYBHzQQADkMtMZ8/oB+qDfCiJXdAHtQaC3gDolHtgOJgzoA/4D2RxhcQ7jEII8cbD0ABX8Bssq3StV+1kuT2X++vIEmJXAGFRFP72rtLYy8RxRt5AmKVSxAtJsqbEPfGy8YcAUuVdraoKoIuKjVJHAH/KoNuc3xsGTVvVh/PvtnMD9BdaSXDeXwV/xYbAtUD1BOZG2Ca0s+9cL/fqPpsw3UpSl0cN8De6jbK8Lec7L4d8egXowBmcwM8VkZcfGhzH/WuPIgi7k9egEilDUcAMSqhCPyQUCr/4wVIIoabbhj02jUnwZXJxGDYlhMggwDMwAVTnMnR3Uj8eRdROYQTYAvRRpHFOUPcUXh+USj+FFVGVKZzApwmn0S/qacKf5J1Nk6Am6oHsZVcrMlRPZK3cwKUqFOBxY3cFR/vV+cEx/gALJ7Z2O2ZXXHvx2Q+96g4zwfQwkcC9vyfa6XepYV8AKGgNYr4AFpqBlznAwjWDCjgA5DLtQLyuQD8f0JaAY4UDoCQA6A9UE4j1oDoIqhTnOvIFjCpFOoYjwcxBASuQFDnKJ/BDBB8FHTFOpkNQM4DnbGGDSBDb/uAvmEBiHToBsDTUAaAbKCIhfSAxnYawMMAasBQoIpYasBcOkAqNWAlHeB3asBqOsByaoCNDrCQGpBCB5hIDehJB/iMGhDwjKZ9u0w/Eh6iAZxkMBT/SANYxgAwgAYwlgEgqIwCEMUiHzirv/1iJgkJxVCUxwQw0ivRyT3lq7XsjV5FvzIBfOSREjumShab196d3SpJ0z13L0awyYoL1Al/Ai6LO6VioZ2dcOngYnVXtWEDUC0A/e2+sBO3VudKj1b0cBV2uUL+7V1G84Jk8kUJ4sWphv2+zVqbvcgaTeRdzckp5G5GAGKJdp3lvbOITOW3mclqavbAPdvS9MZS8is3IIEV4Oeq85UM1zaT7esC37GwAjTYhrv1Wkx1QdSn3l3/hfIiT8QZ3P7/XzKcnicsWWVVdsOyEDqRpPp6IWlXoWycsqSYunvvD2EcNq1cC4bOy+zZzrT41pX5RmCHwXOOOKdvl3WcSxfgE2IRwF5SoWd1jhlA7/okH8ANUYA2HyrgttGAW6IAEUb/BFUXIZkPILGAcNzam/HEjn1OltDbsOHTyrxstDSsug9K20m/INcGpgiAlHg6f6BEbOPhbbqpf+3rLAzgiv6uLrCH6T8H3bvlRzSuxXEDxDm7oLiFYQBpDwbMkYwD9CgHeBBkIEBKv184SDISQB0mwASYABNgAkzABwCob2z4vQMCEaiZQvLyjQAAAABJRU5ErkJggg==
slideNumber: false
showNotes: false
title: "TypeScript 4.4 more readable code - LogRocket with @johnny_reilly"
---
<!-- .slide: data-transition="slide" data-background="./images/typescript-4-4-more-readable-code.png"  -->
## TypeScript 4.4 :
## more readable code
### [LogRocket](https://www.logrocket.com) with [@johnny_reilly](https://twitter.com/johnny_reilly)

<aside class="notes">
talk to be delivered using VS Code Reveal extension: https://github.com/evilz/vscode-reveal
</aside>

---

<aside class="notes">
Like all good talks, this began with a tweet.
I spotted, in my inbox, an automated email
from GitHub. There'd been some activity on a
GitHub issue I subscribed to, by my coding hero
Anders Hejlsberg.

It turned out that a very long lived issue
had just been resolved by a PR of Anders'.
I tweeted about it because I was excited about it
</aside>

[![Screenshot of initial tweet](images/tweet-screenshot.png =500x)](https://www.twitter.com/johnny_reilly/status/1408162514504933378)

---

<aside class="notes"> 
I wasn't the only one!

You can see from one of the reactions here
that this change has a major impact on the
readability of code in TypeScript

That's what we're going to look into today.
</aside>

[![Screenshot of reactions on Twitter](images/reactions-on-twitter.png =400x)](https://twitter.com/zeh/status/1408208125572915202)

---

<!-- .slide: data-transition="slide" data-background="./images/announcing-typescript-0-8-background.png" data-background-transition="zoom" -->

<aside class="notes">

In the early days of TypeScript, the type system
was a great deal more limited. Union types
did not exist.

*COMPLICATED! REPEAT!*  

This meant, when writing a function that had
parameters that could be of various types,
the only way to model this was by using the top
type of `any`

> A top type is a supertype of every other type

</aside>

## In the beginning...
## TypeScript was `void`

## and `any`  {.fragment .fade-up}

---

<aside class="notes">

We're going to write a simple function in this talk
that is as type safe and readable as it can be

We'll look at how TypeScript has facilitated that
as it has evolved as a language.

We'll see that over time both readability
and type safety improve

</aside>

## The mission:
## Write type safe code
## that is readable

---

<aside class="notes">

We're going to write 
an "add" function; a simple mechanism 
for adding up numbers,
using TypeScript 1.0 syntax 

</aside>

## add(1, '7', '3', 9)

## The only way is `any` {.fragment .fade-up}

---

<aside class="notes">

Here's an implementation of our adder function
You can see that it would take our combination
of strings and numbers and would add them 

But - it's not type safe at all

</aside>

```ts
function add(...thingsToAdd: any[]): number {
    let total = 0;
    for (const thingToAdd of thingsToAdd) {
        if (typeof thingToAdd === 'string') {
            total += Number(thingToAdd);
        } else {
            total += thingToAdd;
        }
    }
    return total;
}

add(1, '7', '3', 9) // 20
```

---

<aside class="notes">

When TypeScript 1.4 landed it brought
a new feature called "union types"
which enabled the modelling of a variable
having multiple explicit types.

It had a sister feature called "type aliases"
which "variable-ified" a type, thus reducing verbosity.

Interestingly union types had already landed
in Flow and up to that point in time, were
a compelling reason to favour Flow over
TypeScript

</aside>

### TypeScript 1.4
#### State of the union (type)

- [Union types](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-1-4.html#union-types)
- [Type aliases](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-1-4.html#type-aliases)

---

<!-- .slide: style="text-align: left;" -->
<aside class="notes">
...

</aside>

[Applied union types:](https://www.typescriptlang.org/play?ts=3.3.3#code/GYVwdgxgLglg9mABAQwCaoBQDodQBYxgDmAzgCpwCC6AXIhmCALYBGApgE6IA+iJUHQkQCUAbQC6wuo1adEAbwBQiFYgA2bKIihwoyNYgC8iAAwBuZauBwuGCAn7aCxCtVSI4wJ0PJV0whUtVVRgvDCgATwAHNk9vFz93Q2TEAHJ+QWJUgKVgvNUdPQMAamMAOWZ2DnDnIld-C3yVAF9ENjUSNkCmvML9RFL4usTGpuagxHHgjk0QDiQ+tQtxxXswEjgNLDU4Igw0TABGABo0gHZU09SAZkvEAE5hYSA)

```ts
any -> number | string
```

```ts
function add(...thingsToAdd: (number | string)[]): number {
    let total = 0;
    for (const thingToAdd of thingsToAdd) {
        if (typeof thingToAdd === 'string') {
            total += Number(thingToAdd);
        } else {
            total += thingToAdd;
        }
    }
    return total;
}
```

---

<!-- .slide: style="text-align: left;" -->
<aside class="notes">

...

</aside>

[Applied type aliases:](https://www.typescriptlang.org/play?ts=3.3.3#code/C4TwDgpgBAcgrgWwEYQE4HlUGVioJYB2A5lALxQGIqpQA+UAzroUQFCsBmcBAxsHgHsCUAIYATMQAoAdLOAALFgwAqAgIISAXLCppMOfMQDaAXQCU2ysjRQA3qyiOoAGwjAowAcBHOyUAAwA3A5OHAI0kjxCTB6KxKoaYlACHLFKCRJmdiFOTnipkqCQKWnx6hJkpOQA5EyGRNVZ9rktTp7evgDU5PDWqIVxRBliZsGtjgC+UBDODNDN47ntPlDdpUPlYmPjEzlQu7mobnCowsvOwbusUQQMAq7SzgJEkuJSAIwANFDVAOzV32qAGYAVAAJxmMxAA)

```ts
(number | string) -> NumberOrString
```

```ts
type NumberOrString = number | string

function add(...thingsToAdd: NumberOrString[]): number {
    let total = 0;
    for (const thingToAdd of thingsToAdd) {
        if (typeof thingToAdd === 'string') {
            total += Number(thingToAdd);
        } else {
            total += thingToAdd;
        }
    }
    return total;
}
```

---

<!-- .slide: style="text-align: center;" -->
<aside class="notes">

type aliases are variables for types

much more readable!

</aside>

### Let's apply type aliases

```ts
```

[show in playground]()

---

destructuring on multiple properties does not work

---







WIP


Start with a simple adder function in TypeScript 1

Lack of union types so any. Talk about definitely typed and jQuery. Use API with setter for example

Union types 1.4 - unknown as well?

https://blog.logrocket.com/typescript-4-4-and-more-readable-code/

https://github.com/microsoft/TypeScript/pull/44730

https://github.com/microsoft/TypeScript/issues/12184 November 2016

https://devblogs.microsoft.com/typescript/announcing-typescript-4-4-rc/?utm_source=typescript-weekly.com&utm_campaign=typescript_weekly_176&utm_medium=email

https://github.com/microsoft/TypeScript/pull/44730

Future stuff?
if(map.has('item')) {
  let value = map.get('item');
  }

